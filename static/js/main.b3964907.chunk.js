(this["webpackJsonpcards-app-10-12"]=this["webpackJsonpcards-app-10-12"]||[]).push([[0],{11:function(e,t,n){e.exports={registration:"Registration_registration__1xru0",error:"Registration_error__3n58D",superButton:"Registration_superButton__17HFm",superButtonReg:"Registration_superButtonReg__2egIi",passwordBlock:"Registration_passwordBlock__33m4h",password:"Registration_password__1qtyz",checkboxEye:"Registration_checkboxEye__3zZcT",buttonBox:"Registration_buttonBox__1mjJ8"}},12:function(e,t,n){e.exports={login:"Login_login__3IC9Q",box:"Login_box__FA8qd",text:"Login_text__yxCrE",passwordBlock:"Login_passwordBlock__pTuJN",checkboxEye:"Login_checkboxEye__-8kh6",error:"Login_error__yIn7U",password:"Login_password__4_z11",checkbox:"Login_checkbox__19Bf0",superButton:"Login_superButton__36iLT"}},13:function(e,t,n){e.exports={newPassword:"RestorePassword_newPassword__3t6ZQ",text_1:"RestorePassword_text_1__33SRr",text_2:"RestorePassword_text_2__pNmKy",superButton:"RestorePassword_superButton__2YT5W"}},18:function(e,t,n){e.exports={newPassword:"NewPassword_newPassword__5g8OE",text:"NewPassword_text__r0oUX",superButton:"NewPassword_superButton__1Jry3"}},21:function(e,t,n){e.exports={default:"SuperButton_default__1Oj1f",red:"SuperButton_red__17evz"}},23:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__WuyFe"}},24:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__1wekg",spanClassName:"SuperCheckbox_spanClassName__309sz"}},25:function(e,t,n){e.exports={profile:"profile_profile__3xJtU",button:"profile_button__2_m6V"}},26:function(e,t,n){e.exports={double:"SuperDoubleRange_double__j_YjA",wrapper:"SuperDoubleRange_wrapper__jJdK4"}},27:function(e,t,n){e.exports={checkEmail:"CheckEmail_checkEmail__7WNld",text:"CheckEmail_text__2t-dL"}},28:function(e,t,n){e.exports={box:"Preloader_box__1lO8N",spinner:"Preloader_spinner__3gLw2"}},39:function(e,t,n){},40:function(e,t,n){e.exports={test:"test_test__3Z_re"}},46:function(e,t,n){},47:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(16),s=n.n(r),o=(n(46),n(47),n(8)),i=n(3),u=n(7),l=n(21),j=n.n(l),d=n(0),b=function(e){var t=e.red,n=e.className,c=Object(u.a)(e,["red","className"]),a="".concat(t?j.a.red:j.a.default," ").concat(n);return Object(d.jsx)("button",Object(i.a)({className:a},c))},h=n(5),O="/error404",p="/login",x="/restore-password",g="/profile",f="/registration",m="/test",v="/check-email",_="/new-password/:tokenId",w=function(){var e=Object(h.c)((function(e){return e.login.isAuth}));return Object(d.jsxs)("div",{children:[!e&&Object(d.jsx)(b,{children:Object(d.jsx)(o.c,{to:p,children:"Login "})}),e&&Object(d.jsx)(b,{children:Object(d.jsx)(o.c,{to:g,children:"Profile "})})]})},C=n(2),k=function(){return Object(d.jsx)("div",{children:"Error 404"})},y=n(4),E=n(23),N=n.n(E),R=function(e){var t=e.type,n=e.onChange,c=e.onChangeText,a=e.onKeyPress,r=e.onEnter,s=e.error,o=e.className,l=e.spanClassName,j=Object(u.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),b="".concat(N.a.error," ").concat(l||""),h="".concat(o," ").concat(N.a.superInput);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",Object(i.a)({type:t,onChange:function(e){n&&n(e),c&&c(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),r&&"Enter"===e.key&&r()},className:h},j)),s&&Object(d.jsx)("span",{style:{borderRadius:"48px"},className:b,children:s})]})},S=n(12),P=n.n(S),T=n(24),B=n.n(T),I=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,c=e.className,a=(e.spanClassName,e.children),r=Object(u.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(B.a.checkbox," ").concat(c||"");return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",Object(i.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:c||s},r)),a&&Object(d.jsx)("span",{className:B.a.spanClassName,children:a})]})},L=n(38),A=n.n(L).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),D=function(e,t,n){return A.post("auth/login",{email:e,password:t,rememberMe:n})},F=function(){return A.post("auth/me")},U=function(){return A.delete("auth/me")},G={isLoading:!1},W=function(e){return{type:"app-reducer/SET-IS-LOADING",value:e}},Y={isAuth:!1,_id:null,email:null,name:null,avatar:null,publicCardPacksCount:0,error:""},J=function(e){return{type:"login-reducer/SET-LOGIN",data:e}},V=function(){return function(e){e(W(!0)),U().then((function(t){e({type:"login-reducer/LOGOUT-USER",data:Y})})).catch((function(e){console.dir(e)})).finally((function(){return e(W(!1))}))}},z=function(e){return{type:"login-reducer/SET-ERROR",error:e}},K=function(){var e=Object(h.c)((function(e){return e.login.error})),t=Object(h.c)((function(e){return e.login.isAuth})),n=Object(h.b)(),a=Object(c.useState)(""),r=Object(y.a)(a,2),s=r[0],i=r[1],u=Object(c.useState)(""),l=Object(y.a)(u,2),j=l[0],O=l[1],p=Object(c.useState)(!1),m=Object(y.a)(p,2),v=m[0],_=m[1],w=Object(c.useState)(!1),k=Object(y.a)(w,2),E=k[0],N=k[1],S=function(){s&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(s)?n(z("Invalid email address")):(n(z("")),n(function(e,t,n){return function(c){c(W(!0)),D(e,t,n).then((function(e){c(J({isAuth:!0,_id:e.data._id,email:e.data.email,name:e.data.name,avatar:e.data.avatar?e.data.avatar:null,publicCardPacksCount:e.data.publicCardPacksCount,error:e.data.error}))})).catch((function(){c(z("Invalid email or password!"))})).finally((function(){return c(W(!1))}))}}(s,j,v)))};return t?Object(d.jsx)(C.a,{to:g}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:P.a.login,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Sign In"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(R,{className:P.a.superInput,onEnter:S,value:s,onChange:function(e){i(e.currentTarget.value)},type:"email",placeholder:"Email"})}),Object(d.jsxs)("div",{className:P.a.passwordBlock,children:[Object(d.jsx)(R,{className:"".concat(P.a.password),onEnter:S,value:j,onChange:function(e){O(e.currentTarget.value)},type:E?"text":"password",placeholder:"Password"}),Object(d.jsx)("input",{className:P.a.checkboxEye,type:"checkbox",defaultChecked:E,onClick:function(e){N(e.currentTarget.checked)}})]}),Object(d.jsx)("div",{children:e}),Object(d.jsx)(I,{className:P.a.checkbox,defaultChecked:v,onChange:function(e){_(e.currentTarget.checked)},children:"Remember me"})]}),Object(d.jsx)("div",{children:Object(d.jsx)(o.c,{to:x,children:"Forgot Password"})}),Object(d.jsx)("div",{children:Object(d.jsx)(b,{className:P.a.superButton,onClick:S,children:"Login"})}),Object(d.jsx)("div",{children:"Don't have an account?"}),Object(d.jsx)("div",{children:Object(d.jsx)(o.c,{to:f,children:"Sign Up"})})]})})},Z=n(13),M=n.n(Z),$=function(e){return A.post("/auth/forgot",{email:e,from:"AlexKayuda",message:"<div style=\"background-color: lime; padding: 15px\"><a href='https://shizik93.github.io/cards-app-10-12/#/new-password/$token$'>Link</a></div>"},{})},q=function(e,t){return A.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},Q={isRecovery:!1,newPass:!1,emailRecovery:""},H=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.restorePassword.emailRecovery})),n=Object(c.useState)(""),a=Object(y.a)(n,2),r=a[0],s=a[1];return t?Object(d.jsx)(C.a,{to:v}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:M.a.newPassword,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Forgot your password?"}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{defaultValue:r,onChange:function(e){s(e.currentTarget.value)},placeholder:"Email"})}),Object(d.jsx)("div",{className:M.a.text_1,children:"Enter your email address and we will send you further instructions"}),Object(d.jsx)("div",{children:Object(d.jsx)(b,{className:M.a.superButton,onClick:function(){e(function(e){return function(t){t(W(!0)),$(e).then((function(n){t({type:"restorePassword-reducer/SET-IS-RECOVERY",success:n.data.success}),t(function(e){return{type:"restorePassword-reducer/EMAIL-RECOVERY",email:e}}(e))})).catch((function(e){console.dir(e)})).finally((function(){t(W(!1))}))}}(r))},children:"Send Instructions"})}),Object(d.jsx)("div",{className:M.a.text_2,children:"Did you remember your password?"}),Object(d.jsxs)("div",{children:[Object(d.jsx)(o.b,{to:p,children:"Try logging in"})," "]})]})})},X=n(25),ee=n.n(X),te=function(){var e=Object(h.b)(),t=Object(c.useState)(!1),n=Object(y.a)(t,2),a=n[0],r=n[1],s=Object(h.c)((function(e){return e.login.name})),o=Object(c.useState)(s||""),i=Object(y.a)(o,2),u=i[0],l=i[1],j=Object(h.c)((function(e){return e.login.avatar}));return Object(h.c)((function(e){return e.login.isAuth}))?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ee.a.profile,children:[a?Object(d.jsx)("input",{autoFocus:!0,onChange:function(e){return l(e.currentTarget.value)},placeholder:u,onBlur:function(){return r(!1)}}):Object(d.jsx)("h1",{onDoubleClick:function(){return r(!0)},children:u}),j&&Object(d.jsx)("div",{children:Object(d.jsx)("img",{alt:"avatar",src:j})}),Object(d.jsx)(b,{className:ee.a.button,onClick:function(){e(V())},children:"Logout"})]})}):Object(d.jsx)(C.a,{to:p})},ne=n(11),ce=n.n(ne),ae=function(e,t){return A.post("/auth/register",{email:e,password:t})},re={error:"",isRegistered:!1},se=function(e){return{type:"registration-reducers/SET-ERROR",error:e}},oe=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.registration.error})),n=Object(c.useState)(""),a=Object(y.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(y.a)(o,2),u=i[0],l=i[1],j=Object(c.useState)(""),O=Object(y.a)(j,2),x=O[0],g=O[1],f=Object(c.useState)(!1),m=Object(y.a)(f,2),v=m[0],_=m[1],w=Object(c.useState)(!1),k=Object(y.a)(w,2),E=k[0],N=k[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ce.a.registration,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Sign Up"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(R,{value:r,type:"email",onChange:function(e){s(e.currentTarget.value)},placeholder:"Email"})}),Object(d.jsxs)("div",{className:ce.a.passwordBlock,children:[Object(d.jsx)(R,{className:ce.a.password,value:u,onChange:function(e){l(e.currentTarget.value)},type:v?"text":"password",placeholder:"Password"}),Object(d.jsx)("input",{className:ce.a.checkboxEye,type:"checkbox",defaultChecked:v,onClick:function(e){_(e.currentTarget.checked)}})]}),Object(d.jsxs)("div",{className:ce.a.passwordBlock,children:[Object(d.jsx)(R,{className:ce.a.password,value:x,type:E?"text":"password",onChange:function(e){g(e.currentTarget.value)},placeholder:"Confirm password"}),Object(d.jsx)("input",{className:ce.a.checkboxEye,type:"checkbox",defaultChecked:E,onClick:function(e){N(e.currentTarget.checked)}})]})]}),Object(d.jsx)("div",{className:ce.a.error,children:t&&t}),Object(d.jsxs)("div",{className:ce.a.buttonBox,children:[Object(d.jsx)(b,{className:ce.a.superButton,children:"Cancel"}),Object(d.jsx)(b,{className:ce.a.superButtonReg,onClick:function(){if(u===x)return e(function(e,t){return function(n){n(W(!0)),ae(e,t).then((function(){n({type:"registration-reducers/SET-REGISTERED-SUCCESSFULLY",successful:!0})})).catch((function(){n(se("Email or password are invalid. Please, try registration again"))})).finally((function(){n(W(!1))}))}}(r,u)),Object(d.jsx)(C.a,{to:p});e(se("Password confirmation does not match!"))},children:"Register"})]})]})})},ie=function(e){e.autoFocus;var t=e.onBlur,n=e.onEnter,a=e.spanProps,r=Object(u.a)(e,["autoFocus","onBlur","onEnter","spanProps"]),s=Object(c.useState)(!1),o=Object(y.a)(s,2),l=o[0],j=o[1],b=a||{},h=b.children,O=b.onDoubleClick,p=b.className,x=Object(u.a)(b,["children","onDoubleClick","className"]),g=" ".concat(p);return Object(d.jsx)(d.Fragment,{children:l?Object(d.jsx)(R,Object(i.a)({autoFocus:!0,onBlur:function(e){j(!1),t&&t(e)},onEnter:function(){j(!1),n&&n()}},r)):Object(d.jsx)("span",Object(i.a)(Object(i.a)({onDoubleClick:function(e){j(!0),O&&O(e)},className:g},x),{},{children:h||r.value}))})},ue=function(e){var t=e.options,n=e.onChange,c=e.onChangeOption,a=Object(u.a)(e,["options","onChange","onChangeOption"]),r=t?t.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t+"-"+e)})):[];return Object(d.jsx)("select",Object(i.a)(Object(i.a)({onChange:function(e){n&&n(e),c&&c(e.currentTarget.value)}},a),{},{children:r}))},le=function(e){e.type;var t=e.name,n=e.options,c=e.value,a=e.onChange,r=e.onChangeOption,s=(Object(u.a)(e,["type","name","options","value","onChange","onChangeOption"]),function(e){a&&a(e),r&&r(e.currentTarget.value)}),o=n?n.map((function(e,n){return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{onChange:s,type:"radio",name:t,checked:e===c,value:e}),e]},t+"-"+n)})):[];return Object(d.jsx)(d.Fragment,{children:o})},je=n(39),de=n.n(je),be=function(e){e.type;var t=e.onChange,n=e.onChangeRange,c=e.className,a=Object(u.a)(e,["type","onChange","onChangeRange","className"]),r="".concat(de.a.range," ").concat(c||"");return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("input",Object(i.a)({value:a.value,type:"range",onChange:function(e){t&&t(e),n&&n(+e.currentTarget.value)},className:r},a))})},he=n(26),Oe=n.n(he),pe=function(e){return Object(d.jsxs)("div",{className:Oe.a.wrapper,children:[Object(d.jsx)(be,{value:e.value&&e.value[0],onChangeRange:function(t){e.onChangeRange&&e.value&&(e.value[0]<=e.value[1]-5?e.onChangeRange([t,e.value[1]]):t<=95?e.onChangeRange([t,t+5]):e.onChangeRange([t,e.value[1]]))}}),Object(d.jsx)(be,{className:Oe.a.double,value:e.value&&e.value[1],onChangeRange:function(t){e.onChangeRange&&e.value&&(e.value[0]<=e.value[1]-5?e.onChangeRange([e.value[0],t]):t>=5?e.onChangeRange([t-5,t]):e.onChangeRange([0,t]))}})]})},xe=n(40),ge=n.n(xe),fe=function(){return Object(d.jsxs)("div",{className:ge.a.test,children:[Object(d.jsx)(R,{}),Object(d.jsx)(b,{children:"+"}),Object(d.jsx)(I,{}),Object(d.jsx)(ie,{}),Object(d.jsx)(ue,{}),Object(d.jsx)(le,{}),Object(d.jsx)(be,{}),Object(d.jsx)(pe,{})]})},me=n(27),ve=n.n(me),_e=n.p+"static/media/Group 281.724b6226.svg",we=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ve.a.checkEmail,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("img",{alt:"Email",src:_e}),Object(d.jsx)("h2",{children:"Check Email"}),Object(d.jsx)("div",{className:ve.a.text,children:"We've sent an Email with instructions to example@mail.com"})]})})},Ce=n(18),ke=n.n(Ce),ye=function(){var e=Object(h.b)(),t=(Object(h.c)((function(e){return e.restorePassword.newPass})),Object(c.useState)("")),n=Object(y.a)(t,2),a=n[0],r=n[1],s=Object(C.h)().tokenId;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ke.a.newPassword,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Create new password"}),Object(d.jsx)("div",{children:Object(d.jsx)(R,{defaultValue:a,onChange:function(e){r(e.currentTarget.value)},type:"password",placeholder:"Password"})}),Object(d.jsx)("div",{className:ke.a.text,children:Object(d.jsx)("span",{children:"Create new password and we will send you further instructions to email"})}),Object(d.jsx)(b,{className:ke.a.superButton,onClick:function(){var t,n;s&&e((t=a,n=s,function(e){e(W(!0)),q(t,n).then((function(){e({type:"restorePassword-reducer/SET-NEW-PASSWORD",newPass:!0})})).catch((function(e){console.dir(e)})).finally((function(){e(W(!1))}))}))},children:"Create new password"})]})})},Ee=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{path:"/",element:Object(d.jsx)(C.a,{to:p})}),Object(d.jsx)(C.b,{element:Object(d.jsx)(k,{}),path:O}),Object(d.jsx)(C.b,{element:Object(d.jsx)(K,{}),path:p}),Object(d.jsx)(C.b,{element:Object(d.jsx)(H,{}),path:x}),Object(d.jsx)(C.b,{element:Object(d.jsx)(te,{}),path:g}),Object(d.jsx)(C.b,{element:Object(d.jsx)(oe,{}),path:f}),Object(d.jsx)(C.b,{element:Object(d.jsx)(fe,{}),path:m}),Object(d.jsx)(C.b,{element:Object(d.jsx)(we,{}),path:v}),Object(d.jsx)(C.b,{element:Object(d.jsx)(ye,{}),path:_}),Object(d.jsx)(C.b,{element:Object(d.jsx)(k,{}),path:"*"})]})})},Ne=n(28),Re=n.n(Ne),Se=function(){return Object(d.jsx)("div",{className:Re.a.box,children:Object(d.jsx)("span",{className:Re.a.spinner})})};var Pe=function(){var e=Object(h.c)((function(e){return e.app.isLoading})),t=Object(h.b)();return Object(c.useEffect)((function(){t((function(e){e(W(!0)),F().then((function(t){e(J({isAuth:!0,_id:t.data._id,email:t.data.email,name:t.data.name,avatar:t.data.avatar?t.data.avatar:null,publicCardPacksCount:t.data.publicCardPacksCount,error:t.data.error}))})).catch((function(e){console.dir(e)})).finally((function(){e(W(!1))}))}))}),[t]),Object(d.jsxs)("div",{children:[e&&Object(d.jsx)(Se,{}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(w,{}),Object(d.jsx)(Ee,{})]})]})},Te=n(19),Be=[],Ie=n(41),Le=Object(Te.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app-reducer/SET-IS-LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:t.value});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login-reducer/SET-LOGIN":case"login-reducer/LOGOUT-USER":return Object(i.a)(Object(i.a)({},e),t.data);case"login-reducer/SET-ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registration-reducers/SET-REGISTERED-SUCCESSFULLY":return Object(i.a)(Object(i.a)({},e),{},{isRegistered:t.successful});case"registration-reducers/SET-ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restorePassword-reducer/EMAIL-RECOVERY":return Object(i.a)(Object(i.a)({},e),{},{emailRecovery:t.email});case"restorePassword-reducer/SET-IS-RECOVERY":return Object(i.a)(Object(i.a)({},e),{},{isRecovery:t.success});case"restorePassword-reducer/SET-NEW-PASSWORD":return Object(i.a)(Object(i.a)({},e),{},{newPass:t.newPass});default:return e}}}),Ae=Object(Te.c)(Le,Object(Te.a)(Ie.a));window.store=Ae,s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{store:Ae,children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Pe,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.b3964907.chunk.js.map