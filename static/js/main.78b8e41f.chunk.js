(this["webpackJsonpcards-app-10-12"]=this["webpackJsonpcards-app-10-12"]||[]).push([[0],{15:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__WuyFe",input:"SuperInputText_input__1XNDN",errorInput:"SuperInputText_errorInput__2h4-F",error:"SuperInputText_error__2Ii1S"}},16:function(e,t,n){e.exports={newPassword:"RestorePassword_newPassword__3t6ZQ",text:"RestorePassword_text__3l-6s"}},19:function(e,t,n){e.exports={default:"SuperButton_default__1Oj1f",red:"SuperButton_red__17evz"}},21:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__1wekg",spanClassName:"SuperCheckbox_spanClassName__309sz"}},22:function(e,t,n){e.exports={registration:"Registration_registration__1xru0",error:"Registration_error__3n58D"}},23:function(e,t,n){e.exports={double:"SuperDoubleRange_double__j_YjA",wrapper:"SuperDoubleRange_wrapper__jJdK4"}},24:function(e,t,n){e.exports={checkEmail:"CheckEmail_checkEmail__7WNld",text:"CheckEmail_text__2t-dL"}},25:function(e,t,n){e.exports={newPassword:"NewPassword_newPassword__5g8OE",text:"NewPassword_text__r0oUX"}},35:function(e,t,n){e.exports={login:"Login_login__3IC9Q"}},37:function(e,t,n){e.exports={profile:"profile_profile__3xJtU"}},38:function(e,t,n){},39:function(e,t,n){e.exports={test:"test_test__3Z_re"}},45:function(e,t,n){},46:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(13),s=n.n(c),o=(n(45),n(46),n(10)),i=n(3),u=n(7),j=n(19),l=n.n(j),d=n(0),b=function(e){var t=e.red,n=e.className,r=Object(u.a)(e,["red","className"]),a="".concat(t?l.a.red:l.a.default," ").concat(n);return Object(d.jsx)("button",Object(i.a)({className:a},r))},h=n(4),O="/error404",p="/login",x="/restore-password",g="/profile",v="/registration",f="/test",m="/check-email",C="/new-password/:tokenId",w=function(){var e=Object(h.c)((function(e){return e.login.isAuth}));return Object(d.jsxs)("div",{children:[!e&&Object(d.jsx)(b,{children:Object(d.jsx)(o.b,{to:p,children:"Login "})}),e&&Object(d.jsx)(b,{children:Object(d.jsx)(o.b,{to:g,children:"Profile "})})]})},_=n(2),E=function(){return Object(d.jsx)("div",{children:"Error 404"})},y=n(5),R=n(15),S=n.n(R),k=function(e){var t=e.type,n=e.onChange,r=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,o=(e.className,e.spanClassName),j=Object(u.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(S.a.error," ").concat(o||""),b="".concat(s?S.a.errorInput:S.a.superInput);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("input",Object(i.a)({type:t,onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),c&&"Enter"===e.key&&c()},className:b},j)),s&&Object(d.jsx)("span",{style:{borderRadius:"48px"},className:l,children:s})]})},N=n(35),P=n.n(N),T=n(21),I=n.n(T),L=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),c=Object(u.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(I.a.checkbox," ").concat(r||"");return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",Object(i.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),a&&Object(d.jsx)("span",{className:I.a.spanClassName,children:a})]})},A=n(36),D=n.n(A).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),F=function(e,t,n){return D.post("auth/login",{email:e,password:t,rememberMe:n})},U=function(){return D.post("auth/me")},G=function(){return D.delete("auth/me")},W={isAuth:!1,_id:null,email:null,name:null,avatar:null,publicCardPacksCount:0,error:""},Y=function(e){return{type:"login-reducer/SET-LOGIN",data:e}},B=function(){return function(e){G().then((function(t){console.dir(t),e({type:"login-reducer/LOGOUT-USER",data:W})}))}},K=function(){var e=Object(h.c)((function(e){return e.login.isAuth})),t=Object(h.b)(),n=Object(r.useState)("akayuda93@gmail.com"),a=Object(y.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)("qwerty12"),u=Object(y.a)(i,2),j=u[0],l=u[1],O=Object(r.useState)(!1),p=Object(y.a)(O,2),f=p[0],m=p[1],C=function(){t(function(e,t,n){return function(r){F(e,t,n).then((function(e){console.dir(e),r(Y({isAuth:!0,_id:e.data._id,email:e.data.email,name:e.data.name,avatar:e.data.avatar?e.data.avatar:null,publicCardPacksCount:e.data.publicCardPacksCount,error:e.data.error}))}))}}(c,j,f))};return e?Object(d.jsx)(_.a,{to:g}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:P.a.login,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Sign In"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(k,{onEnter:C,value:c,onChange:function(e){s(e.currentTarget.value)},type:"email",placeholder:"Email"})}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{onEnter:C,value:j,onChange:function(e){l(e.currentTarget.value)},type:"password",placeholder:"Password"})}),Object(d.jsx)(L,{defaultChecked:f,onChange:function(e){m(e.currentTarget.checked)},children:"Remember me"})]}),Object(d.jsx)("div",{children:Object(d.jsx)(o.b,{to:x,children:"Forgot Password"})}),Object(d.jsx)("div",{children:Object(d.jsx)(b,{onClick:C,children:"Login"})}),Object(d.jsx)("div",{children:"Don't have an account?"}),Object(d.jsx)("div",{children:Object(d.jsx)(o.b,{to:v,children:"Sign Up"})})]})})},V=n(16),J=n.n(V),M=function(e){return D.post("/auth/forgot",{email:e,from:"AlexKayuda",message:"<div style=\"background-color: lime; padding: 15px\">\terror: string;password recovery link: \t}<a href='https://shizik93.github.io/cards-app-10-12/#/set-new-password/$token$'>link</a></div>"},{})},z=function(e,t){return D.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},Q={isRecovery:!1,newPass:!1,emailRecovery:""},X=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.restorePassword.emailRecovery})),n=Object(r.useState)(""),a=Object(y.a)(n,2),c=a[0],s=a[1];return t?Object(d.jsx)(_.a,{to:m}):Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:J.a.newPassword,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Forgot your password?"}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{defaultValue:c,onChange:function(e){s(e.currentTarget.value)},placeholder:"Email"})}),Object(d.jsx)("div",{className:J.a.text,children:"Enter your email address and we will send you further instructions"}),Object(d.jsx)("div",{children:Object(d.jsx)(b,{onClick:function(){e(function(e){return function(t){M(e).then((function(n){t({type:"restorePassword-reducer/SET-IS-RECOVERY",success:n.data.success}),t(function(e){return{type:"restorePassword-reducer/EMAIL-RECOVERY",email:e}}(e))}))}}(c))},children:"Send Instructions"})}),Object(d.jsx)("div",{className:J.a.text,children:"Did you remember your password?"}),Object(d.jsx)("div",{children:Object(d.jsx)(b,{children:"Try logging in"})})]})})},Z=n(37),$=n.n(Z),q=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.login.name})),n=Object(h.c)((function(e){return e.login.avatar}));return Object(h.c)((function(e){return e.login.isAuth}))?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:$.a.profile,children:[Object(d.jsx)("h1",{children:t}),n&&Object(d.jsx)("div",{children:Object(d.jsx)("img",{alt:"avatar",src:n})}),Object(d.jsx)(b,{onClick:function(){e(B())},children:"Logout"})]})}):Object(d.jsx)(_.a,{to:p})},H=n(22),ee=n.n(H),te=function(e,t){return D.post("/auth/register",{email:e,password:t})},ne={error:"",isRegistered:!1},re=function(e){return{type:"registration-reducers/SET-ERROR",error:e}},ae=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.registration.error})),n=Object(r.useState)(""),a=Object(y.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(y.a)(o,2),u=i[0],j=i[1],l=Object(r.useState)(""),O=Object(y.a)(l,2),x=O[0],g=O[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ee.a.registration,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Sign Up"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(k,{value:c,type:"email",onChange:function(e){s(e.currentTarget.value)},placeholder:"Email"})}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{value:u,onChange:function(e){j(e.currentTarget.value)},type:"password",placeholder:"Password"})}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{value:x,type:"password",onChange:function(e){g(e.currentTarget.value)},placeholder:"Confirm password"})})]}),Object(d.jsx)("div",{className:ee.a.error,children:t&&t}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{children:"Cancel"}),Object(d.jsx)(b,{onClick:function(){if(u===x)return e(function(e,t){return function(n){te(e,t).then((function(){n({type:"registration-reducers/SET-REGISTERED-SUCCESSFULLY",successful:!0})})).catch((function(){n(re("Email or password are invalid. Please, try registration again"))}))}}(c,u)),Object(d.jsx)(_.a,{to:p});e(re("Password confirmation does not match!"))},children:"Register"})]})]})})},ce=function(e){e.autoFocus;var t=e.onBlur,n=e.onEnter,a=e.spanProps,c=Object(u.a)(e,["autoFocus","onBlur","onEnter","spanProps"]),s=Object(r.useState)(!1),o=Object(y.a)(s,2),j=o[0],l=o[1],b=a||{},h=b.children,O=b.onDoubleClick,p=b.className,x=Object(u.a)(b,["children","onDoubleClick","className"]),g=" ".concat(p);return Object(d.jsx)(d.Fragment,{children:j?Object(d.jsx)(k,Object(i.a)({autoFocus:!0,onBlur:function(e){l(!1),t&&t(e)},onEnter:function(){l(!1),n&&n()}},c)):Object(d.jsx)("span",Object(i.a)(Object(i.a)({onDoubleClick:function(e){l(!0),O&&O(e)},className:g},x),{},{children:h||c.value}))})},se=function(e){var t=e.options,n=e.onChange,r=e.onChangeOption,a=Object(u.a)(e,["options","onChange","onChangeOption"]),c=t?t.map((function(e,t){return Object(d.jsx)("option",{value:e,children:e},t+"-"+e)})):[];return Object(d.jsx)("select",Object(i.a)(Object(i.a)({onChange:function(e){n&&n(e),r&&r(e.currentTarget.value)}},a),{},{children:c}))},oe=function(e){e.type;var t=e.name,n=e.options,r=e.value,a=e.onChange,c=e.onChangeOption,s=(Object(u.a)(e,["type","name","options","value","onChange","onChangeOption"]),function(e){a&&a(e),c&&c(e.currentTarget.value)}),o=n?n.map((function(e,n){return Object(d.jsxs)("label",{children:[Object(d.jsx)("input",{onChange:s,type:"radio",name:t,checked:e===r,value:e}),e]},t+"-"+n)})):[];return Object(d.jsx)(d.Fragment,{children:o})},ie=n(38),ue=n.n(ie),je=function(e){e.type;var t=e.onChange,n=e.onChangeRange,r=e.className,a=Object(u.a)(e,["type","onChange","onChangeRange","className"]),c="".concat(ue.a.range," ").concat(r||"");return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("input",Object(i.a)({value:a.value,type:"range",onChange:function(e){t&&t(e),n&&n(+e.currentTarget.value)},className:c},a))})},le=n(23),de=n.n(le),be=function(e){return Object(d.jsxs)("div",{className:de.a.wrapper,children:[Object(d.jsx)(je,{value:e.value&&e.value[0],onChangeRange:function(t){e.onChangeRange&&e.value&&(e.value[0]<=e.value[1]-5?e.onChangeRange([t,e.value[1]]):t<=95?e.onChangeRange([t,t+5]):e.onChangeRange([t,e.value[1]]))}}),Object(d.jsx)(je,{className:de.a.double,value:e.value&&e.value[1],onChangeRange:function(t){e.onChangeRange&&e.value&&(e.value[0]<=e.value[1]-5?e.onChangeRange([e.value[0],t]):t>=5?e.onChangeRange([t-5,t]):e.onChangeRange([0,t]))}})]})},he=n(39),Oe=n.n(he),pe=function(){return Object(d.jsxs)("div",{className:Oe.a.test,children:[Object(d.jsx)(k,{}),Object(d.jsx)(b,{children:"+"}),Object(d.jsx)(L,{}),Object(d.jsx)(ce,{}),Object(d.jsx)(se,{}),Object(d.jsx)(oe,{}),Object(d.jsx)(je,{}),Object(d.jsx)(be,{})]})},xe=n(24),ge=n.n(xe),ve=n.p+"static/media/Group 281.724b6226.svg",fe=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:ge.a.checkEmail,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("img",{alt:"Email",src:ve}),Object(d.jsx)("h2",{children:"Check Email"}),Object(d.jsx)("div",{className:ge.a.text,children:"We've sent an Email with instructions to example@mail.com"})]})})},me=n(25),Ce=n.n(me),we=function(){var e=Object(h.b)(),t=(Object(h.c)((function(e){return e.restorePassword.newPass})),Object(r.useState)("")),n=Object(y.a)(t,2),a=n[0],c=n[1],s=Object(_.h)().tokenId;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:Ce.a.newPassword,children:[Object(d.jsx)("h1",{children:"It-incubator"}),Object(d.jsx)("h2",{children:"Create new password"}),Object(d.jsx)("div",{children:Object(d.jsx)(k,{onChange:function(e){c(e.currentTarget.value)},type:"password",placeholder:"Password"})}),Object(d.jsx)("div",{className:Ce.a.text,children:Object(d.jsx)("span",{children:"Create new password and we will send you further instructions to email"})}),Object(d.jsx)(b,{onClick:function(){var t,n;s&&e((t=a,n=s,function(e){z(t,n).then((function(){e({type:"restorePassword-reducer/SET-NEW-PASSWORD",newPass:!0})}))}))},children:"Create new password"})]})})},_e=function(){return Object(d.jsx)("div",{children:Object(d.jsxs)(_.d,{children:[Object(d.jsx)(_.b,{path:"/",element:Object(d.jsx)(_.a,{to:p})}),Object(d.jsx)(_.b,{element:Object(d.jsx)(E,{}),path:O}),Object(d.jsx)(_.b,{element:Object(d.jsx)(K,{}),path:p}),Object(d.jsx)(_.b,{element:Object(d.jsx)(X,{}),path:x}),Object(d.jsx)(_.b,{element:Object(d.jsx)(q,{}),path:g}),Object(d.jsx)(_.b,{element:Object(d.jsx)(ae,{}),path:v}),Object(d.jsx)(_.b,{element:Object(d.jsx)(pe,{}),path:f}),Object(d.jsx)(_.b,{element:Object(d.jsx)(fe,{}),path:m}),Object(d.jsx)(_.b,{element:Object(d.jsx)(we,{}),path:C}),Object(d.jsx)(_.b,{element:Object(d.jsx)(E,{}),path:"*"})]})})};var Ee=function(){var e=Object(h.b)();return Object(r.useEffect)((function(){e((function(e){U().then((function(t){console.dir(t),e(Y({isAuth:!0,_id:t.data._id,email:t.data.email,name:t.data.name,avatar:t.data.avatar?t.data.avatar:null,publicCardPacksCount:t.data.publicCardPacksCount,error:t.data.error}))}))}))}),[e]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(w,{}),Object(d.jsx)(_e,{})]})},ye=n(17),Re=[],Se=[],ke=n(40),Ne=Object(ye.b)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login-reducer/SET-LOGIN":case"login-reducer/LOGOUT-USER":return Object(i.a)(Object(i.a)({},e),t.data);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"registration-reducers/SET-REGISTERED-SUCCESSFULLY":return Object(i.a)(Object(i.a)({},e),{},{isRegistered:t.successful});case"registration-reducers/SET-ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});default:return e}},restorePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"restorePassword-reducer/EMAIL-RECOVERY":return Object(i.a)(Object(i.a)({},e),{},{emailRecovery:t.email});case"restorePassword-reducer/SET-IS-RECOVERY":return Object(i.a)(Object(i.a)({},e),{},{isRecovery:t.success});case"restorePassword-reducer/SET-NEW-PASSWORD":return Object(i.a)(Object(i.a)({},e),{},{newPass:t.newPass});default:return e}}}),Pe=Object(ye.c)(Ne,Object(ye.a)(ke.a));window.store=Pe,s.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(h.a,{store:Pe,children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Ee,{})})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.78b8e41f.chunk.js.map